(this["webpackJsonpreact-cart"]=this["webpackJsonpreact-cart"]||[]).push([[0],{13:function(t,e,a){t.exports={CartWrap:"Cart_CartWrap__8eTss",Cart:"Cart_Cart__2p8O0"}},16:function(t,e,a){t.exports={App:"App_App__wrSSE"}},2:function(t,e,a){t.exports={Product:"CartProduct_Product__a85zD",title:"CartProduct_title__Feg2R",price:"CartProduct_price__Zb1Cb",quantity:"CartProduct_quantity__3mLjv",quantityWrap:"CartProduct_quantityWrap__21Zh2",button:"CartProduct_button__Xt1AQ",buttonNotActive:"CartProduct_buttonNotActive__3KTwJ",buttonRemove:"CartProduct_buttonRemove__uXpnr"}},29:function(t,e,a){},3:function(t,e,a){t.exports={CartForm:"CartForm_CartForm__3V5T-",title:"CartForm_title__Xabog",inputWrap:"CartForm_inputWrap__V7w-d",input:"CartForm_input__mpeFR",button:"CartForm_button__eRwwT",error:"CartForm_error__3_Q3J"}},30:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),i=a(6);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(18),s=function(){return Object(i.b)()},d=i.c,l=a(13),p=a.n(l),b=a(14),m=a.n(b),j=a(15),_=a(4),f=function(){return fetch("https://fakestoreapi.com/products?limit=2")},h=Object(_.b)("cart/getAsyncProducts",Object(j.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}),t)})))),x=a(17),O=Object(_.c)({name:"cart",initialState:{products:[],status:"loading"},reducers:{addProduct:function(t,e){t.products=[e.payload].concat(Object(x.a)(t.products))},incrementQuantity:function(t,e){var a=e.payload,n=a.id,r=a.num;t.products.forEach((function(t){t.id===n&&(t.quantity+=r,t.totalPrice=Number((t.price*t.quantity).toFixed(2)))}))},decrementQuantity:function(t,e){var a=e.payload,n=a.id,r=a.num;t.products.forEach((function(t){t.id===n&&(t.quantity-=r,t.totalPrice=Number((t.price*t.quantity).toFixed(2)))}))},deleteProduct:function(t,e){var a=e.payload;t.products.forEach((function(e,n){e.id===a&&t.products.splice(n,1)}))}},extraReducers:function(t){t.addCase(h.pending,(function(t){t.status="loading"})).addCase(h.fulfilled,(function(t,e){t.products=e.payload,t.products.forEach((function(t){t.quantity=1,t.totalPrice=t.quantity*t.price})),t.status="idle"}))}}),v=function(t){return t.cart},C=O.actions,y=C.addProduct,N=C.incrementQuantity,P=C.decrementQuantity,g=C.deleteProduct,w=O.reducer,q=a(2),F=a.n(q),W=a(1),A=function(t){var e=t.title,a=t.price,n=t.quantity,r=t.id,c=t.totalPrice,o=s(),i=[F.a.button,1===n?F.a.buttonNotActive:""].join(" ");return Object(W.jsxs)("div",{className:F.a.Product,children:[Object(W.jsx)("span",{className:F.a.title,children:e}),Object(W.jsxs)("span",{className:F.a.price,children:[c,"$"]}),Object(W.jsxs)("div",{className:F.a.quantityWrap,children:[Object(W.jsx)("button",{type:"button",className:i,onClick:function(){1!==n&&o(P({num:1,id:r,price:n*a}))},children:"-"}),Object(W.jsxs)("span",{className:F.a.quantity,children:["\xa0Quantity:\xa0",n,"\xa0"]}),Object(W.jsx)("button",{type:"button",className:F.a.button,onClick:function(){o(N({num:1,id:r,price:n*a}))},children:"+"})]}),Object(W.jsx)("button",{type:"button",className:F.a.buttonRemove,onClick:function(){o(g(r))},children:"Remove"})]})},k=a(9),R=a(3),S=a.n(R),E=function(){var t=s(),e=r.a.useState(""),a=Object(k.a)(e,2),n=a[0],c=a[1],o=r.a.useState(""),i=Object(k.a)(o,2),u=i[0],d=i[1],l=r.a.useState(!0),p=Object(k.a)(l,2),b=p[0],m=p[1],j=!isNaN(Number(u));return Object(W.jsxs)("form",{className:S.a.CartForm,onSubmit:function(t){t.preventDefault()},children:[Object(W.jsx)("h2",{className:S.a.title,children:"Add the product"}),Object(W.jsx)("div",{className:S.a.inputWrap,children:Object(W.jsx)("input",{className:S.a.input,type:"text",placeholder:"Name",onChange:function(t){m(!0),c(t.target.value.trim())},value:n})}),Object(W.jsx)("div",{className:S.a.inputWrap,children:Object(W.jsx)("input",{className:S.a.input,type:"text",placeholder:"Price",onChange:function(t){m(!0),d(t.target.value.trim())},value:u})}),b?null:Object(W.jsx)("span",{className:S.a.error,children:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(W.jsx)("button",{type:"submit",className:S.a.button,onClick:function(){m(Boolean(n)&&Boolean(u)&&j),n&&u&&(j?(t(y({title:n,price:Number(u),quantity:1,id:Math.random(),totalPrice:1*Number(u)})),c(""),d("")):d(""))},children:"Add"})]})},Q=function(){var t=d(v),e=t.products,a=t.status,n=s();return r.a.useEffect((function(){n(h())}),[]),Object(W.jsxs)("div",{className:p.a.CartWrap,children:[Object(W.jsxs)("div",{className:p.a.Cart,children:[Object(W.jsx)("h1",{children:"Cart"}),"idle"===a?e.map((function(t){return Object(W.jsx)(A,Object(u.a)({},t),t.id)})):"Loading your goods..."]}),Object(W.jsx)(E,{})]})},B=a(16),J=a.n(B);var T=function(){return Object(W.jsx)("div",{className:J.a.App,children:Object(W.jsx)(Q,{})})},X=Object(_.a)({reducer:{cart:w}});a(29);o.a.render(Object(W.jsx)(r.a.StrictMode,{children:Object(W.jsx)(i.a,{store:X,children:Object(W.jsx)(T,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.4f27163d.chunk.js.map